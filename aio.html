<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Byte-sized RSE: Unit Testing Code: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css">
<script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/incubator/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicons/incubator/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicons/incubator/favicon-16x16.png">
<link rel="manifest" href="favicons/incubator/site.webmanifest">
<link rel="mask-icon" href="favicons/incubator/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Byte-sized RSE" src="assets/images/incubator-logo.svg"><span class="badge text-bg-warning">
          <abbr title="This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.">
            <a href="https://docs.carpentries.org/resources/curriculum/lesson-life-cycle.html" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-triangle" style="border-radius: 5px"></i>
              Alpha
            </a>
            <span class="visually-hidden">This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/aio.html';">Instructor View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Byte-sized RSE" src="assets/images/incubator-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Byte-sized RSE: Unit Testing Code
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Byte-sized RSE: Unit Testing Code
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Byte-sized RSE: Unit Testing Code
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/aio.html">Instructor View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="introduction.html">Unit Testing Code</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="example-code.html">Example Code</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="create-new-test.html">Creating a New Test</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="handling-errors.html">Handling Errors</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="reference.html">Reference</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-introduction"><p>Content from <a href="introduction.html">Unit Testing Code</a></p>
<hr>
<p>Last updated on 2025-10-27 |

        <a href="https://github.com/carpentries-incubator/byte-sized-rse-testing/edit/main/episodes/introduction.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is a unit test, and why is it important for improving the
reliability and reproducibility of research code?</li>
<li>At what levels of granularity can we test our code?</li>
<li>What different approaches to code testing exist?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Describe what unit testing is and explain why it matters for
software quality.</li>
<li>Describe different approaches and levels of testing.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Code testing is the process of verifying that your code behaves as
expected and continues to do so as it evolves. It helps catch bugs
early, ensures changes do not unintentionally break existing
functionality, and supports the development of more robust and
maintainable software. Whether you’re working on a small script or a
large application, incorporating testing into your workflow builds
confidence in your code and makes collaboration and future updates much
easier.</p>
<p>Testing is a critical part of writing reliable, maintainable code —
especially in collaborative or research environments where
reproducibility and correctness are key. In this lesson, we will explore
why testing matters, and introduce different levels of testing — from
small, focused unit tests, to broader integration and system tests that
check how components work together. We will also look at testing
approaches such as regression testing (to ensure changes do not break
existing behavior) and property-based testing (to test a wide range of
inputs automatically). Finally, we will cover mocking, a technique used
to isolate code during tests by simulating the behavior of external
dependencies.</p>
<section><h2 class="section-heading" id="why-test-your-code">Why test your code?<a class="anchor" aria-label="anchor" href="#why-test-your-code"></a>
</h2>
<hr class="half-width">
<p>Being able to demonstrate that a process generates the right results
is important in any field of research, whether it is software generating
those results or not. So when writing software we need to ask ourselves
some key questions:</p>
<ul>
<li>Does the code we develop works as expected?</li>
<li>To what extent are we confident of the accuracy of results that
software produces?</li>
<li>Can we and others verify these assertions for themselves?</li>
</ul>
<p>If we are unable to demonstrate that our software fulfills these
criteria, why would anyone use it?</p>
<p>As a codebase grows, debugging becomes more challenging, and new code
may introduce bugs or unexpected behavior in parts of the system it does
not directly interact with. Tests can help catch issues before they
become runtime bugs, and a failing test can pinpoint the source of the
problem. Additionally, tests serve as invocation examples for other
developers and users, making it easier for them to reuse the code
effectively.</p>
<p>Having well-defined tests for our software helps ensure your software
works correctly, reliably, and consistently over time. By identifying
bugs early and confirming that new changes do not break existing
functionality, testing improves code quality, reduces the risk of errors
in production, and makes future development and long-term maintenance
faster and safer.</p>
</section><section><h2 class="section-heading" id="levels-of-code-testing">Levels of Code Testing<a class="anchor" aria-label="anchor" href="#levels-of-code-testing"></a>
</h2>
<hr class="half-width">
<p>Testing can be performed at different code levels, each serving a
distinct purpose to ensure software behaves correctly at various stages
of execution. Together, these testing levels provide a structured
approach to improving software quality and reliability.</p>
<p><em>Unit testing</em> is the most granular level, where individual
components—like functions or classes—are tested in isolation to confirm
they behave correctly under a variety of inputs. This makes it easier to
identify and fix bugs early in the development process.</p>
<p><em>Integration testing</em> builds on unit testing by checking how
multiple components or modules work together. This level of testing
helps catch issues that arise when components interact — such as
unexpected data formats, interface mismatches, or dependency
problems.</p>
<p>At the highest level, system testing evaluates the software as a
complete, integrated system. This type of testing focuses on validating
the entire application’s functionality from end to end, typically from
the user’s perspective, including inputs, outputs, and how the system
behaves under various conditions.</p>
</section><section><h2 class="section-heading" id="approaches-to-code-testing">Approaches to Code Testing<a class="anchor" aria-label="anchor" href="#approaches-to-code-testing"></a>
</h2>
<hr class="half-width">
<p>Different approaches to code testing help ensure that software
behaves as expected under a range of conditions. When the expected
output of a function or program is known, tests can directly check that
the results match fixed values or fall within a defined confidence
interval.</p>
<p>However, for cases where exact outputs are not predictable — such as
simulations with random elements — <em>property-based testing</em> is
useful. This method tests a wide range of inputs to ensure that certain
properties or patterns hold true across them.</p>
<p>Another important approach is <em>regression testing</em>, which
helps detect when previously working functionality breaks due to recent
changes in the code. By rerunning earlier tests, developers can catch
and address these regressions early, maintaining software stability over
time.</p>
<div class="section level3">
<h3 id="mocking">Mocking<a class="anchor" aria-label="anchor" href="#mocking"></a>
</h3>
<p>When running tests, you often want to focus on testing a specific
piece of functionality, but dependencies on external objects or
functions can complicate this, as you cannot always be sure they work as
expected. Mocking addresses this by allowing you to replace those
dependencies with “mocked” objects or functions that behave according to
your instructions. So, <em>mocking</em> is a testing approach used to
isolate the unit of code being tested by replacing its dependencies with
simplified, controllable versions — known as <em>mocks</em>.</p>
<p>Mocks mimic the behavior of real components (such as databases, APIs,
or external services) without requiring their full functionality or
availability. This allows developers to test specific code paths,
simulate error conditions, or verify how a unit interacts with other
parts of the system. Mocking is especially useful in unit and
integration testing to ensure tests remain focused, fast and
reliable.</p>
<p>For example, if a function modifies data and writes it to a file, you
can mock the file-writing object, so instead of creating an actual file,
the mocked object stores the “written” data. This enables you to verify
that the data written is as expected, without actually creating a file,
making tests more controlled and efficient.</p>
</div>
</section><section><h2 class="section-heading" id="related-practices">Related Practices<a class="anchor" aria-label="anchor" href="#related-practices"></a>
</h2>
<hr class="half-width">
<p><a href="./20-introduction.html">Code style and linting</a> are
essential practices in code testing, as they help ensure that code is
readable and maintainable by following established conventions, such as
PEP8 in Python. Linting tools automatically check that code adheres to
these style guidelines, reducing errors and improving consistency.</p>
<p><a href="././60-introduction.html">Continuous Integration (CI)</a>
further enhances testing practices by automating key processes, such as
running tests and linting tools, every time code changes are committed.
This helps catch issues early, maintain code quality, and streamline the
development workflow. Together, these practices improve code reliability
and make collaboration smoother.</p>
</section><section><h2 class="section-heading" id="practical-work">Practical Work<a class="anchor" aria-label="anchor" href="#practical-work"></a>
</h2>
<hr class="half-width">
<p>In the rest of this session, we will walk you through writing tests
for your code.</p>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-example-code"><p>Content from <a href="example-code.html">Example Code</a></p>
<hr>
<p>Last updated on 2025-10-27 |

        <a href="https://github.com/carpentries-incubator/byte-sized-rse-testing/edit/main/episodes/example-code.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>FIXME</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>FIXME</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="creating-a-copy-of-the-example-code-repository">Creating a Copy of the Example Code Repository<a class="anchor" aria-label="anchor" href="#creating-a-copy-of-the-example-code-repository"></a>
</h2>
<hr class="half-width">
<p>FIXME: copy factorial-example repo into softwaresaved</p>
<p>For this lesson we’ll be using some example code available on GitHub,
which we’ll clone onto our machines using the Bash shell. So firstly
open a Bash shell (via Git Bash in Windows or Terminal on a Mac). Then,
on the command line, navigate to where you’d like the example code to
reside, and use Git to clone it. For example, to clone the repository in
our home directory, and change our directory to the repository
contents:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="bu">cd</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/UNIVERSE-HPC/factorial-example</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="bu">cd</span> factorial-example</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="examining-the-code">Examining the Code<a class="anchor" aria-label="anchor" href="#examining-the-code"></a>
</h2>
<hr class="half-width">
<p>Next, let’s take a look at the code, which is in the
<code>factorial-example/mymath directory</code>, called
<code>factorial.py</code>, so open this file in an editor.</p>
<p>The example code is a basic Python implementation of Factorial.
Essentially, it multiplies all the whole numbers from a given number
down to 1 e.g. given 3, that’s 3 x 2 x 1 = 6 - so the factorial of 3 is
6.</p>
<p>We can also run this code from within Python to show it working. In
the shell, ensure you are in the root directory of the repository, then
type:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">python</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>Python <span class="fl">3.10.12</span> (main, Feb  <span class="dv">4</span> <span class="dv">2025</span>, <span class="dv">14</span>:<span class="dv">57</span>:<span class="dv">36</span>) [GCC <span class="fl">11.4.0</span>] on linux</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>Type <span class="st">"help"</span>, <span class="st">"copyright"</span>, <span class="st">"credits"</span> <span class="kw">or</span> <span class="st">"license"</span> <span class="cf">for</span> more information.</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> </span></code></pre>
</div>
<p>Then at the prompt, import the <code>factorial</code> function from
the <code>mymath</code> library and run it:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> mymath.factorial <span class="im">import</span> factorial</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> factorial(<span class="dv">3</span>)</span></code></pre>
</div>
<p>Which gives us 6 - which gives us some evidence that this function is
working. Of course, in practice, our functions may well be more
complicated than this, and of course, they may call other separate
functions. Now we could just come up with a list of known input numbers
and expected outputs and run each of these manually to test the code,
but this would take some time. Computers are really good at one thing -
automation - so let’s use that and automate our tests, to make it easy
for ourselves.</p>
</section><section><h2 class="section-heading" id="running-the-tests">Running the Tests<a class="anchor" aria-label="anchor" href="#running-the-tests"></a>
</h2>
<hr class="half-width">
<p>As it turns out, this code repository already has a test. Navigate to
the repository’s <code>tests</code> directory, and open a file called
<code>test_factorial.py</code>:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="im">import</span> unittest</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="im">from</span> mymath.factorial <span class="im">import</span> factorial</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="kw">class</span> TestFactorialFunctions(unittest.TestCase):</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>    <span class="kw">def</span> test_3(<span class="va">self</span>):</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>        <span class="va">self</span>.assertEqual(factorial(<span class="dv">3</span>), <span class="dv">6</span>)</span></code></pre>
</div>
<p>Now, we using a Python unit test framework called
<code>unittest</code>. There are other such frameworks for Python,
including <code>nose</code> and <code>pytest</code> which is very
popular, but the advantage of using <code>unittest</code> is that it’s
already built-in to Python so it’s easier for us to use it.</p>
<p>Before we look into this example unit test, questions <em>Who here is
familiar with object oriented programming?</em> Yes/No <em>Who’s written
an object oriented program?</em> Yes/No</p>
<div id="what-is-object-oriented-programming" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="what-is-object-oriented-programming" class="callout-inner">
<h3 class="callout-title">What is Object Oriented Programming?</h3>
<div class="callout-content">
<p>For those that aren’t familiar with object oriented programming, it’s
a way of structuring your programs around the <em>data</em> of your
problem. It’s based around the concept of objects, which are structures
that contain both data and functions that operate on that data. In
object oriented programming, objects are used to model real-world
entities, such as people, bank accounts, libraries, books, even
molecules, and so on. With each object having its own:</p>
<ul>
<li>data - known as attributes</li>
<li>functions - known as methods</li>
</ul>
<p>These are encapsulated within a defined structure known as a class.
An introduction to object oriented programming is beyond the scope of
this session, but if you’d like to know more there’s a great <a href="https://realpython.com/python3-object-oriented-programming/" class="external-link">introductory
tutorial</a> on the <a href="https://realpython.com/" class="external-link">RealPython</a>
site. This site is a great practical resource for learning about how to
do many things in Python!</p>
</div>
</div>
</div>
<p>For the purposes of this activity, we use object oriented classes to
encapsulate our unit tests since that’s how they’re defined in the
<code>unittest</code> framework. You can consider them as a kind of
syntactic sugar to group our tests together, 2ith a single unit test
being represented as a single function - or method - within a class.</p>
<p>In this example, we have a class called
<code>TestFactorialFunctions</code> with a single unit test, which we’ve
called <code>test_3</code>. Within that test method, we are essentially
doing what we did when we ran it manually earlier: we’re running
factorial with the argument 3, and checking it equals 6. We use an
inbuilt function, or method, in this class called
<code>assertEqual</code>, that checks the two are the same, and if not,
the test will fail.</p>
<p>So how do we run this test? In the shell, we can run this test by
ensuring we’re in the repository’s root directory, and running:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> unittest tests/test_factorial.py </span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
----------------------------------------------------------------------
Ran 1 test in 0.000s

OK</code></pre>
</div>
<p>[CHECKPOINT - who’s run the tests and got this output? Yes/No]</p>
<p>So what happens? We see a single <code>.</code>, we see a message
that says it ran very quickly, and <code>OK</code>. The single dot means
the single test we have was successfully run, so our test passes!</p>
<p>But how does unittest know what to run exactly? Unit test frameworks
like <code>unitttest</code> follow a common pattern of finding tests and
running them. When we give a single file argument to
<code>unittest</code>, it searches the Python file for
<code>unittest.TestCase</code> classes, and within those classes, looks
for methods starting with <code>test_</code>, and runs them. So we could
add more tests in this class in the same way, and it would run each in
turn. We could even add multiple <code>unittest.TestCase</code> classes
here if we wanted, each testing different aspects of our code for
example, and <code>unittest</code> would search all of these classes and
run each <code>test_</code> function in turn.</p>
</section><section><h2 class="section-heading" id="testing-for-failure">Testing for Failure<a class="anchor" aria-label="anchor" href="#testing-for-failure"></a>
</h2>
<hr class="half-width">
<p>We’ve seen what happens if a test succeeds, but what happens if a
test fails? Let’s deliberately change our test to be wrong and find out,
by editing the <code>tests/test_factorial.py</code> file, changing the
expected result of <code>factorial(3)</code> to be <code>10</code>, and
saving the file.</p>
<p>We’ll rerun our tests slightly differently than last time:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> unittest <span class="at">-v</span> tests/test_factorial.py</span></code></pre>
</div>
<p>In this case, we add <code>-v</code> for more verbose output, giving
us detailed results test-by-test.</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>test_3 (tests.test_factorial.TestFactorialFunctions) ... FAIL

======================================================================
FAIL: test_3 (tests.test_factorial.TestFactorialFunctions)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/steve/factorial-example/tests/test_factorial.py", line 8, in test_3
    self.assertEqual(factorial(3), 10)
AssertionError: 6 != 10

----------------------------------------------------------------------
Ran 1 test in 0.000s

FAILED (failures=1)</code></pre>
</div>
<p>In this instance we get a <code>FAIL</code> instead of an
<code>OK</code> for our test, and we see an <code>AssertionError</code>
that <code>6</code> is not equal to <code>10</code>, which is clearly
true.</p>
<p>Let’s now change our faulty test back by editing the file again,
changing the <code>10</code> back to <code>6</code>, and re-run our
tests:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> unittest <span class="at">-v</span> tests/test_factorial.py</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>test_3 (tests.test_factorial.TestFactorialFunctions) ... ok

----------------------------------------------------------------------
Ran 1 test in 0.000s

OK</code></pre>
</div>
<p>This illustrates an important point with our tests: it’s important to
make sure your tests are correct too. So make sure you work with known
‘good’ test data which has been verified to be correct!</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>FIXME</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-create-new-test"><p>Content from <a href="create-new-test.html">Creating a New Test</a></p>
<hr>
<p>Last updated on 2025-10-27 |

        <a href="https://github.com/carpentries-incubator/byte-sized-rse-testing/edit/main/episodes/create-new-test.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>FIXME</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>FIXME</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="add-a-new-test">Add a New Test<a class="anchor" aria-label="anchor" href="#add-a-new-test"></a>
</h2>
<hr class="half-width">
<p>As we’ve mentioned, adding a new unit test is a matter of adding a
new test method. Let’s add one to test the number <code>5</code>. Edit
the <code>tests/test_factorial.py</code> file again:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>  <span class="kw">def</span> test_5(<span class="va">self</span>):</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>    <span class="va">self</span>.assertEqual(factorial(<span class="dv">5</span>), <span class="dv">120</span>)</span></code></pre>
</div>
<p>[CHECKPOINT - who’s finished editing the file Yes/No]</p>
<p>And then we can run it exactly as before, in the shell</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> unittest <span class="at">-v</span> tests/test_factorial.py </span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>test_3 (tests.test_factorial.TestFactorialFunctions) ... ok
test_5 (tests.test_factorial.TestFactorialFunctions) ... ok

----------------------------------------------------------------------
Ran 2 tests in 0.000s

OK</code></pre>
</div>
<p>We can see the tests pass. So the really useful thing here, is we can
rapidly add tests and rerun all of them. Particularly with more complex
codes that are harder to reason about, we can develop a set of tests
into a suite of tests to verify the codes’ correctness. Then, whenever
we make changes to our code, we can rerun our tests to make sure we
haven’t broken anything. An additional benefit is that successfully
running our unit tests can also give others confidence that our code
works as expected.</p>
<p>[CHECKPOINT - who managed to run this with their new unit test
Yes/No]</p>
</section><section><h2 class="section-heading" id="change-our-implementation-and-re-test">Change our Implementation, and Re-test<a class="anchor" aria-label="anchor" href="#change-our-implementation-and-re-test"></a>
</h2>
<hr class="half-width">
<p>Let’s illustrate another key advantage of having unit tests. Let’s
assume during development we find an error in our code. For example, if
we run our code with <code>factorial(10000)</code> our Python program
from within the Python interpreter, it crashes with an exception:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> mymath.factorial <span class="im">import</span> factorial</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> factorial(<span class="dv">10000</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "/home/steve/factorial-example/mymath/factorial.py", line 11, in factorial
    return  n * factorial(n-1)
  File "/home/steve/factorial-example/mymath/factorial.py", line 11, in factorial
    return  n * factorial(n-1)
  File "/home/steve/factorial-example/mymath/factorial.py", line 11, in factorial
    return  n * factorial(n-1)
  [Previous line repeated 995 more times]
  File "/home/steve/factorial-example/mymath/factorial.py", line 8, in factorial
    if n == 0 or n == 1:
RecursionError: maximum recursion depth exceeded in comparison</code></pre>
</div>
<p>It turns out that our factorial function is <em>recursive</em>, which
means it calls itself. In order to compute the factorial of 10000, it
does that a lot. Python has a default limit for recursion of 1000, hence
the exception, which is a bit of a limitation in our implementation.
However, we can correct our implementation by changing it to use a
different method of calculating factorials that isn’t recursive. Edit
the <code>mymath/factorial.py</code> file and replace the function with
this one:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="kw">def</span> factorial(n):</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="co">    Calculate the factorial of a given number.</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="co">    :param int n: The factorial to calculate</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="co">    :return: The resultant factorial</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>    factorial <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>        factorial <span class="op">=</span> factorial <span class="op">*</span> i</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a>    <span class="cf">return</span> factorial</span></code></pre>
</div>
<p>Make sure you replace the code in the <code>factorial.py</code> file,
and not the <code>test_factorial.py</code> file.</p>
<p>This is an <em>iterative</em> approach to solving factorial that
isn’t recursive, and won’t suffer from the previous issue. It simply
goes through the intended range of numbers and multiples it by a
previous running total each time, but doesn’t do it recursively by
calling itself. Notice that we’re not changing how the function is
called, or its intended behaviour. So we don’t need to change the Python
docstring here, since it still applies.</p>
<p>We now have our updated implementation, but we need to make sure it
works as intended. Fortunately, we have our set of tests, so let’s run
them again:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> unittest <span class="at">-v</span> tests/test_factorial.py</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>test_3 (tests.test_factorial.TestFactorialFunctions) ... ok
test_5 (tests.test_factorial.TestFactorialFunctions) ... ok

----------------------------------------------------------------------
Ran 2 tests in 0.000s

OK</code></pre>
</div>
<p>And they work, which gives us some confidence - very rapidly - that
our new implementation is behaving exactly the same as before. So again,
each time we change our code, whether it’s making small or large
changes, we retest and check they all pass</p>
<p>[CHECKPOINT - who managed to write unit test and run it? Yes/No]</p>
<div id="what-makes-a-good-test" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="what-makes-a-good-test" class="callout-inner">
<h3 class="callout-title">What makes a Good Test?</h3>
<div class="callout-content">
<p>Of course, we only have 2 tests so far, and it would be good to have
more But what kind of tests are good to write? With more tests that
sufficiently test our code, the more confidence we have that our code is
correct. We could keep writing tests for e.g., 10, 15, 20, and so on.
But these become increasingly less useful, since they’re in much the
same “space”. We can’t test all positive numbers, and it’s fair to say
at a certain point, these types of low integers are sufficiently tested.
So what test cases should we choose?</p>
<p>We should select test cases that test two things:</p>
<ul>
<li><p>The paths through our code, so we can check they work as we
expect. For example, if we had a number of paths through the code
dictated with if statements, we write tests to ensure those are
followed.</p></li>
<li><p>We also need to test the boundaries of the input data we expect
to use, known as <em>edge cases</em>. For example, if we go back to our
code. we can see that there are some interesting edge cases to test
for:</p></li>
<li><p>Zero?</p></li>
<li><p>Very large numbers (as we’ve already seen)?</p></li>
<li><p>Negative numbers?</p></li>
</ul>
<p>All good candidates for further tests, since they test the code in
different ways, and test different paths through the code.</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>FIXME</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-handling-errors"><p>Content from <a href="handling-errors.html">Handling Errors</a></p>
<hr>
<p>Last updated on 2025-10-27 |

        <a href="https://github.com/carpentries-incubator/byte-sized-rse-testing/edit/main/episodes/handling-errors.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>FIXME</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>FIXME</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="how-do-we-handle-testing-for-errors">How do we Handle Testing for Errors?<a class="anchor" aria-label="anchor" href="#how-do-we-handle-testing-for-errors"></a>
</h2>
<hr class="half-width">
<p>But what do we do if our code is expected to throw an error? How
would we test for that?</p>
<p>Let’s try our code with a negative number, which we’ve already
identified as a good test case, from within the python interpreter:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> mymath.factorial <span class="im">import</span> factorial</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> factorial(<span class="op">-</span><span class="dv">1</span>)</span></code></pre>
</div>
<p>We can see that we get the result of 1, which is incorrect, since the
factorial function is undefined for negative numbers.</p>
<p>Perhaps what we want in this case is to test for negative numbers as
an invalid input, and display an exception if that is the case. How
would we implement that, and how would we test for the presence of an
exception?</p>
<p>In our implementation let’s add a check at the start of our function,
which is known as a <em>precondition</em>. The precondition will check
the validity of our input data before we do any processing on it, and
this approach to checking function input data is considered good
practice.</p>
<p>Edit the <code>mymath/factorial.py</code> file again, and add at the
start, below the docstring:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="cf">if</span> n <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>    <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">'Only use non-negative integers.'</span>)</span></code></pre>
</div>
<p>If we run it now, we should see our error:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> mymath.factorial <span class="im">import</span> factorial</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> factorial(<span class="op">-</span><span class="dv">1</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "/home/steve/factorial-example/mymath/factorial.py", line 9, in factorial
    raise ValueError('Only use non-negative integers.')
ValueError: Only use non-negative integers.</code></pre>
</div>
<p>Sure enough, we get our exception as desired. But how do we test for
this in a unit test, since this is an exception, not a value?
Fortunately, unit test frameworks have ways to check for this.</p>
<p>Let’s add a new test to <code>tests/test_factorial.py</code>:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>    <span class="kw">def</span> test_negative(<span class="va">self</span>):</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>        <span class="cf">with</span> <span class="va">self</span>.assertRaises(<span class="pp">ValueError</span>):</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>          factorial(<span class="op">-</span><span class="dv">1</span>)</span></code></pre>
</div>
<p>So here, we use <code>unittest</code>’s built-in
<code>assertRaises()</code> (instead of <code>assertEquals()</code>) to
test for a <code>ValueError</code> exception occurring when we run
<code>factorial(-1)</code>. We also use Python’s <code>with</code> here
to test for this within the call to <code>factorial()</code>. So if we
re-run our tests again, we should see them all succeed:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> unittest <span class="at">-v</span> tests/test_factorial.py</span></code></pre>
</div>
<p>You should see:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>test_3 (tests.test_factorial.TestFactorialFunctions) ... ok
test_5 (tests.test_factorial.TestFactorialFunctions) ... ok
test_negative (tests.test_factorial.TestFactorialFunctions) ... ok

----------------------------------------------------------------------
Ran 3 tests in 0.000s

OK</code></pre>
</div>
</section><section><h2 class="section-heading" id="brief-summary">Brief Summary<a class="anchor" aria-label="anchor" href="#brief-summary"></a>
</h2>
<hr class="half-width">
<p>So we now have the beginnings of a test suite! And every time we
change our code, we can rerun our tests. So the overall process of
development becomes:</p>
<ul>
<li>Add new functionality (or modify new functionality) to our code</li>
<li>Potentially add new tests to test any new functionality</li>
<li>Re-run all our tests</li>
</ul>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>FIXME</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/carpentries-incubator/byte-sized-rse-testing/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/carpentries-incubator/byte-sized-rse-testing/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries-incubator/byte-sized-rse-testing/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries-incubator/byte-sized-rse-testing/blob/main/CITATION.cff" class="external-link">Cite</a> | <a href="mailto:a.nenadic@software.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.17.1" class="external-link">sandpaper (0.17.1)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.7" class="external-link">varnish (1.0.7)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://carpentries-incubator.github.io/byte-sized-rse-testing/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, RSE, research software, development, practices, unit testing",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://carpentries-incubator.github.io/byte-sized-rse-testing/aio.html",
  "identifier": "https://carpentries-incubator.github.io/byte-sized-rse-testing/aio.html",
  "dateCreated": "2025-01-15",
  "dateModified": "2025-10-27",
  "datePublished": "2025-10-27"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

